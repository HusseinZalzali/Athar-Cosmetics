"use strict";(self.webpackChunkathar_cosmetics=self.webpackChunkathar_cosmetics||[]).push([[290],{6290:(f,g,a)=>{a.r(g),a.d(g,{LoginComponent:()=>p});var m=a(177),l=a(1069),r=a(4341),n=a(4438),d=a(4796);function u(e,c){if(1&e&&(n.j41(0,"div",12),n.EFF(1),n.k0s()),2&e){const t=n.XpG(2);n.R7$(),n.JRh(t.error)}}function _(e,c){if(1&e){const t=n.RV6();n.j41(0,"form",6),n.bIt("ngSubmit",function(){n.eBV(t);const i=n.XpG();return n.Njj(i.onSubmit())}),n.j41(1,"div",7)(2,"label"),n.EFF(3,"Email"),n.k0s(),n.j41(4,"input",8),n.mxI("ngModelChange",function(i){n.eBV(t);const s=n.XpG();return n.DH7(s.email,i)||(s.email=i),n.Njj(i)}),n.k0s()(),n.j41(5,"div",7)(6,"label"),n.EFF(7,"Password"),n.k0s(),n.j41(8,"input",9),n.mxI("ngModelChange",function(i){n.eBV(t);const s=n.XpG();return n.DH7(s.password,i)||(s.password=i),n.Njj(i)}),n.k0s()(),n.DNE(9,u,2,1,"div",10),n.j41(10,"button",11),n.EFF(11,"Login"),n.k0s()()}if(2&e){const t=n.XpG();n.R7$(4),n.R50("ngModel",t.email),n.R7$(4),n.R50("ngModel",t.password),n.R7$(),n.Y8G("ngIf",t.error)}}function h(e,c){1&e&&(n.j41(0,"div",13),n.EFF(1,"Logging in..."),n.k0s())}let p=(()=>{class e{constructor(t,o){this.authService=t,this.router=o,this.email="",this.password="",this.loading=!1,this.error=""}onSubmit(){this.loading=!0,this.error="",this.authService.login(this.email,this.password).subscribe({next:t=>{t.success?this.router.navigate("admin"===t.data.user.role?["/admin"]:["/"]):this.error=t.message||"Login failed",this.loading=!1},error:t=>{this.error=t.error?.message||"Login failed",this.loading=!1}})}static{this.\u0275fac=function(o){return new(o||e)(n.rXU(d.u),n.rXU(l.Ix))}}static{this.\u0275cmp=n.VBU({type:e,selectors:[["app-login"]],standalone:!0,features:[n.aNF],decls:10,vars:2,consts:[[1,"auth-page","container"],[1,"auth-card","card"],[3,"ngSubmit",4,"ngIf"],["class","loading",4,"ngIf"],[1,"auth-link"],["routerLink","/register"],[3,"ngSubmit"],[1,"form-group"],["type","email","name","email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","required","",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],["type","submit",1,"btn","btn-primary",2,"width","100%"],[1,"error"],[1,"loading"]],template:function(o,i){1&o&&(n.j41(0,"div",0)(1,"div",1)(2,"h1"),n.EFF(3,"Login"),n.k0s(),n.DNE(4,_,12,3,"form",2)(5,h,2,0,"div",3),n.j41(6,"p",4),n.EFF(7," Don't have an account? "),n.j41(8,"a",5),n.EFF(9,"Register"),n.k0s()()()()),2&o&&(n.R7$(4),n.Y8G("ngIf",!i.loading),n.R7$(),n.Y8G("ngIf",i.loading))},dependencies:[m.MD,m.bT,l.iI,l.Wk,r.YN,r.qT,r.me,r.BC,r.cb,r.YS,r.vS,r.cV],styles:[".auth-page[_ngcontent-%COMP%]{padding:4rem 0;display:flex;justify-content:center;align-items:center;min-height:calc(100vh - 200px)}.auth-card[_ngcontent-%COMP%]{max-width:400px;width:100%;padding:2rem;h1{text-align:center;margin-bottom:2rem;color:var(--accent)}.auth-link{text-align:center;margin-top:1.5rem;color:var(--text-secondary)}}"]})}}return e})()}}]);