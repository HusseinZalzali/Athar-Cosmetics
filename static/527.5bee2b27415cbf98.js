"use strict";(self.webpackChunkathar_cosmetics=self.webpackChunkathar_cosmetics||[]).push([[527],{3527:(y,p,c)=>{c.r(p),c.d(p,{ProductDetailComponent:()=>C});var d=c(177),u=c(1069),a=c(4341),t=c(4438),l=c(6241),m=c(6868);const g=e=>["/product",e];function _(e,n){if(1&e){const r=t.RV6();t.j41(0,"img",24),t.bIt("click",function(){const i=t.eBV(r).$implicit,s=t.XpG(3);return t.Njj(s.selectedImage=i.url)}),t.k0s()}if(2&e){const r=n.$implicit,o=t.XpG(3);t.AVh("active",o.selectedImage===r.url),t.Y8G("src",o.getImageUrl(r.url),t.B4B)}}function h(e,n){if(1&e&&(t.j41(0,"div",22),t.DNE(1,_,1,3,"img",23),t.k0s()),2&e){const r=t.XpG(2);t.R7$(),t.Y8G("ngForOf",r.product.images)}}function v(e,n){if(1&e&&(t.j41(0,"div",25)(1,"h3"),t.EFF(2,"Ingredients"),t.k0s(),t.j41(3,"p"),t.EFF(4),t.k0s()()),2&e){const r=t.XpG(2);t.R7$(4),t.JRh(r.product.ingredients)}}function f(e,n){if(1&e&&(t.j41(0,"div",26)(1,"h3"),t.EFF(2,"Usage"),t.k0s(),t.j41(3,"p"),t.EFF(4),t.k0s()()),2&e){const r=t.XpG(2);t.R7$(4),t.JRh(r.product.usage)}}function b(e,n){if(1&e&&(t.j41(0,"div",30)(1,"div",31),t.nrm(2,"img",32),t.k0s(),t.j41(3,"div",8)(4,"h3"),t.EFF(5),t.k0s(),t.j41(6,"p",10),t.EFF(7),t.nI1(8,"number"),t.k0s()()()),2&e){const r=n.$implicit,o=t.XpG(3);t.Y8G("routerLink",t.eq3(8,g,r.id)),t.R7$(2),t.Y8G("src",o.getImageUrl(r.images&&r.images[0]?r.images[0].url:""),t.B4B)("alt",r.name),t.R7$(3),t.JRh(r.name),t.R7$(2),t.JRh("$"+t.i5U(8,5,r.price,"1.2-2"))}}function k(e,n){if(1&e&&(t.j41(0,"section",27)(1,"h2"),t.EFF(2,"Related Products"),t.k0s(),t.j41(3,"div",28),t.DNE(4,b,9,10,"div",29),t.k0s()()),2&e){const r=t.XpG(2);t.R7$(4),t.Y8G("ngForOf",r.relatedProducts)}}function P(e,n){if(1&e){const r=t.RV6();t.j41(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),t.nrm(4,"img",6),t.k0s(),t.DNE(5,h,2,1,"div",7),t.k0s(),t.j41(6,"div",8)(7,"h1",9),t.EFF(8),t.k0s(),t.j41(9,"p",10),t.EFF(10),t.nI1(11,"number"),t.k0s(),t.j41(12,"div",11)(13,"p")(14,"strong"),t.EFF(15,"SKU:"),t.k0s(),t.EFF(16),t.k0s(),t.j41(17,"p")(18,"strong"),t.EFF(19,"Stock:"),t.k0s(),t.j41(20,"span"),t.EFF(21),t.k0s()()(),t.j41(22,"div",12)(23,"h3"),t.EFF(24,"Description"),t.k0s(),t.j41(25,"p"),t.EFF(26),t.k0s()(),t.DNE(27,v,5,1,"div",13)(28,f,5,1,"div",14),t.j41(29,"div",15)(30,"div",16)(31,"label"),t.EFF(32,"Quantity:"),t.k0s(),t.j41(33,"div",17)(34,"button",18),t.bIt("click",function(){t.eBV(r);const i=t.XpG();return t.Njj(i.decreaseQuantity())}),t.EFF(35,"-"),t.k0s(),t.j41(36,"input",19),t.mxI("ngModelChange",function(i){t.eBV(r);const s=t.XpG();return t.DH7(s.quantity,i)||(s.quantity=i),t.Njj(i)}),t.k0s(),t.j41(37,"button",18),t.bIt("click",function(){t.eBV(r);const i=t.XpG();return t.Njj(i.increaseQuantity())}),t.EFF(38,"+"),t.k0s()()(),t.j41(39,"button",20),t.bIt("click",function(){t.eBV(r);const i=t.XpG();return t.Njj(i.addToCart())}),t.EFF(40),t.k0s()()()(),t.DNE(41,k,5,1,"section",21),t.k0s()}if(2&e){const r=t.XpG();t.R7$(4),t.Y8G("src",r.getImageUrl(r.selectedImage),t.B4B)("alt",r.product.name),t.R7$(),t.Y8G("ngIf",r.product.images&&r.product.images.length>1),t.R7$(3),t.JRh(r.product.name),t.R7$(2),t.JRh("$"+t.i5U(11,19,r.product.price,"1.2-2")),t.R7$(6),t.SpI(" ",r.product.sku,""),t.R7$(4),t.AVh("in-stock",r.product.stock>0)("out-of-stock",0===r.product.stock),t.R7$(),t.SpI(" ",r.product.stock>0?"In Stock":"Out of Stock"," "),t.R7$(5),t.JRh(r.product.description),t.R7$(),t.Y8G("ngIf",r.product.ingredients),t.R7$(),t.Y8G("ngIf",r.product.usage),t.R7$(8),t.R50("ngModel",r.quantity),t.Y8G("max",r.product.stock),t.R7$(3),t.Y8G("disabled",0===r.product.stock),t.R7$(),t.SpI(" ",0===r.product.stock?"Out of Stock":"Add to Cart"," "),t.R7$(),t.Y8G("ngIf",r.relatedProducts.length>0)}}function x(e,n){1&e&&(t.j41(0,"div",33),t.nrm(1,"div",34),t.j41(2,"p"),t.EFF(3,"Loading..."),t.k0s()())}let C=(()=>{class e{constructor(r,o,i){this.route=r,this.productService=o,this.cartService=i,this.product=null,this.relatedProducts=[],this.loading=!0,this.quantity=1,this.selectedImage=""}ngOnInit(){this.route.params.subscribe(r=>{this.loadProduct(+r.id)})}loadProduct(r){this.loading=!0,this.productService.getProduct(r).subscribe({next:o=>{o.success&&(this.product=o.data,this.product.images&&this.product.images.length>0&&(this.selectedImage=this.product.images[0].url),this.loadRelatedProducts()),this.loading=!1},error:()=>{this.loading=!1}})}loadRelatedProducts(){this.product&&this.productService.getProducts({category:this.product.category_id}).subscribe({next:r=>{r.success&&(this.relatedProducts=r.data.filter(o=>o.id!==this.product.id).slice(0,4))}})}increaseQuantity(){this.product&&this.quantity<this.product.stock&&this.quantity++}decreaseQuantity(){this.quantity>1&&this.quantity--}addToCart(){this.product&&this.cartService.addToCart(this.product,this.quantity)}getImageUrl(r){return r?r.startsWith("http://")||r.startsWith("https://")||r.startsWith("/")?r:`/${r}`:"https://via.placeholder.com/500x500?text=No+Image"}static{this.\u0275fac=function(o){return new(o||e)(t.rXU(u.nX),t.rXU(l.b),t.rXU(m.m))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-product-detail"]],standalone:!0,features:[t.aNF],decls:2,vars:2,consts:[["class","product-detail-page container",4,"ngIf"],["class","loading container",4,"ngIf"],[1,"product-detail-page","container"],[1,"product-detail-content"],[1,"product-images"],[1,"main-image"],["loading","eager",3,"src","alt"],["class","thumbnail-images",4,"ngIf"],[1,"product-info"],[1,"product-name"],[1,"product-price"],[1,"product-meta"],[1,"product-description"],["class","product-ingredients",4,"ngIf"],["class","product-usage",4,"ngIf"],[1,"add-to-cart-section"],[1,"quantity-selector"],[1,"quantity-controls"],[1,"qty-btn",3,"click"],["type","number","min","1",1,"qty-input",3,"ngModelChange","ngModel","max"],[1,"btn","btn-primary",3,"click","disabled"],["class","related-products",4,"ngIf"],[1,"thumbnail-images"],["class","thumbnail","loading","lazy",3,"src","active","click",4,"ngFor","ngForOf"],["loading","lazy",1,"thumbnail",3,"click","src"],[1,"product-ingredients"],[1,"product-usage"],[1,"related-products"],[1,"products-grid"],["class","product-card card",3,"routerLink",4,"ngFor","ngForOf"],[1,"product-card","card",3,"routerLink"],[1,"product-image"],["loading","lazy",3,"src","alt"],[1,"loading","container"],[1,"loading-spinner"]],template:function(o,i){1&o&&t.DNE(0,P,42,22,"div",0)(1,x,4,0,"div",1),2&o&&(t.Y8G("ngIf",i.product),t.R7$(),t.Y8G("ngIf",i.loading))},dependencies:[d.MD,d.Sq,d.bT,d.QX,u.iI,u.Wk,a.YN,a.me,a.Q0,a.BC,a.VZ,a.zX,a.vS],styles:[".product-detail-page[_ngcontent-%COMP%]{padding:2rem 0}.product-detail-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:3rem;margin-bottom:4rem}.product-images[_ngcontent-%COMP%]{.main-image{width:100%;height:500px;overflow:hidden;background-color:var(--bg-secondary);border-radius:var(--border-radius);margin-bottom:1rem;display:flex;align-items:center;justify-content:center;img{max-width:100%;max-height:100%;object-fit:contain}}.thumbnail-images{display:flex;gap:1rem;overflow-x:auto;.thumbnail{width:80px;height:80px;object-fit:cover;border-radius:var(--border-radius);cursor:pointer;border:2px solid transparent;transition:border-color .3s ease;&.active{border-color:var(--accent)}&:hover{border-color:var(--neutral-medium)}}}}.product-info[_ngcontent-%COMP%]{.product-name{font-size:2.5rem;color:var(--accent);margin-bottom:1rem}.product-price{font-size:2rem;color:var(--accent);font-weight:600;margin-bottom:2rem}.product-meta{margin-bottom:2rem;padding:1rem;background-color:var(--surface-light);border-radius:var(--border-radius);p{margin-bottom:.5rem;.in-stock{color:#27ae60}.out-of-stock{color:#e74c3c}}}.product-description,.product-ingredients,.product-usage{margin-bottom:2rem;h3{color:var(--accent);margin-bottom:1rem}p{color:var(--text-secondary);line-height:1.8}}}.add-to-cart-section[_ngcontent-%COMP%]{padding:2rem;background-color:var(--surface-light);border-radius:var(--border-radius);margin-top:2rem}.quantity-selector[_ngcontent-%COMP%]{margin-bottom:1.5rem;label{display:block;margin-bottom:.5rem;color:var(--text-primary)}.quantity-controls{display:flex;align-items:center;gap:1rem;.qty-btn{width:40px;height:40px;border:1px solid var(--neutral-medium);background-color:var(--bg-secondary);color:var(--text-primary);border-radius:var(--border-radius);cursor:pointer;font-size:1.25rem;transition:all .3s ease;&:hover{border-color:var(--accent);color:var(--accent)}}.qty-input{width:80px;text-align:center;padding:8px;border:1px solid var(--neutral-medium);background-color:var(--bg-secondary);color:var(--text-primary);border-radius:var(--border-radius)}}}.related-products[_ngcontent-%COMP%]{margin-top:4rem;padding-top:4rem;border-top:1px solid var(--neutral-medium);h2{margin-bottom:2rem;color:var(--accent)}.products-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:2rem}.product-card{cursor:pointer}.product-image{width:100%;height:200px;overflow:hidden;background-color:var(--bg-secondary);border-radius:var(--border-radius);margin-bottom:1rem;img{width:100%;height:100%;object-fit:cover}}}@media (max-width: 768px){.product-detail-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:2rem}.product-images[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{height:300px}.product-info[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{font-size:2rem}.product-info[_ngcontent-%COMP%]   .product-price[_ngcontent-%COMP%]{font-size:1.5rem}.related-products[_ngcontent-%COMP%]   .products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:1rem}}@media (max-width: 480px){.product-images[_ngcontent-%COMP%]   .main-image[_ngcontent-%COMP%]{height:250px}.thumbnail-images[_ngcontent-%COMP%]{gap:.5rem;.thumbnail{width:60px;height:60px}}.add-to-cart-section[_ngcontent-%COMP%]{padding:1.5rem}.quantity-controls[_ngcontent-%COMP%]{.qty-input{width:60px}}}"]})}}return e})()}}]);