"use strict";(self.webpackChunkathar_cosmetics=self.webpackChunkathar_cosmetics||[]).push([[477],{2477:(h,s,o)=>{o.r(s),o.d(s,{CartComponent:()=>_});var c=o(177),l=o(1069),t=o(4438),p=o(6868);function d(i,m){if(1&i){const e=t.RV6();t.j41(0,"div",12)(1,"div",13)(2,"img",14),t.bIt("error",function(n){t.eBV(e);const a=t.XpG(2);return t.Njj(a.handleImageError(n))}),t.k0s()(),t.j41(3,"div",15)(4,"h3",16),t.EFF(5),t.k0s(),t.j41(6,"p",17),t.EFF(7),t.nI1(8,"number"),t.k0s()(),t.j41(9,"div",18)(10,"button",19),t.bIt("click",function(){const n=t.eBV(e).$implicit,a=t.XpG(2);return t.Njj(a.updateQuantity(n.product.id,n.quantity-1))}),t.EFF(11,"-"),t.k0s(),t.j41(12,"span",20),t.EFF(13),t.k0s(),t.j41(14,"button",19),t.bIt("click",function(){const n=t.eBV(e).$implicit,a=t.XpG(2);return t.Njj(a.updateQuantity(n.product.id,n.quantity+1))}),t.EFF(15,"+"),t.k0s()(),t.j41(16,"div",21)(17,"p",22),t.EFF(18),t.nI1(19,"number"),t.k0s()(),t.j41(20,"button",23),t.bIt("click",function(){const n=t.eBV(e).$implicit,a=t.XpG(2);return t.Njj(a.removeItem(n.product.id))}),t.EFF(21,"\xd7"),t.k0s()()}if(2&i){const e=m.$implicit,r=t.XpG(2);t.R7$(2),t.Y8G("src",r.getProductImage(e.product),t.B4B)("alt",e.product.name),t.R7$(3),t.JRh(e.product.name),t.R7$(2),t.JRh("$"+t.i5U(8,6,e.product.price,"1.2-2")),t.R7$(6),t.JRh(e.quantity),t.R7$(5),t.JRh("$"+t.i5U(19,9,e.product.price*e.quantity,"1.2-2"))}}function g(i,m){if(1&i&&(t.j41(0,"div",4)(1,"div",5),t.DNE(2,d,22,12,"div",6),t.k0s(),t.j41(3,"div",7)(4,"h2"),t.EFF(5,"Order Summary"),t.k0s(),t.j41(6,"div",8)(7,"span"),t.EFF(8,"Subtotal:"),t.k0s(),t.j41(9,"span",9),t.EFF(10),t.nI1(11,"number"),t.k0s()(),t.j41(12,"div",8)(13,"span"),t.EFF(14,"Shipping:"),t.k0s(),t.j41(15,"span",9),t.EFF(16,"Calculated at checkout"),t.k0s()(),t.j41(17,"div",10)(18,"span"),t.EFF(19,"Total:"),t.k0s(),t.j41(20,"span",9),t.EFF(21),t.nI1(22,"number"),t.k0s()(),t.j41(23,"a",11),t.EFF(24," Proceed to Checkout "),t.k0s()()()),2&i){const e=t.XpG();t.R7$(2),t.Y8G("ngForOf",e.cartItems),t.R7$(8),t.JRh("$"+t.i5U(11,3,e.subtotal,"1.2-2")),t.R7$(11),t.JRh("$"+t.i5U(22,6,e.subtotal,"1.2-2"))}}function u(i,m){1&i&&(t.j41(0,"div",24)(1,"p"),t.EFF(2,"Your cart is empty"),t.k0s(),t.j41(3,"a",25),t.EFF(4,"Shop Now"),t.k0s()())}let _=(()=>{class i{constructor(e){this.cartService=e,this.cartItems=[],this.subtotal=0}ngOnInit(){this.cartService.cart$.subscribe(e=>{this.cartItems=e,this.subtotal=this.cartService.getCartTotal()})}updateQuantity(e,r){this.cartService.updateQuantity(e,r)}removeItem(e){this.cartService.removeFromCart(e)}getProductImage(e){if(e.images&&e.images.length>0&&e.images[0].url){const r=e.images[0].url;return r.startsWith("http")||r.startsWith("/")?r:`/${r}`}return"https://via.placeholder.com/300x300?text=No+Image"}handleImageError(e){e.target.src="https://via.placeholder.com/300x300?text=No+Image"}static{this.\u0275fac=function(r){return new(r||i)(t.rXU(p.m))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-cart"]],standalone:!0,features:[t.aNF],decls:5,vars:2,consts:[[1,"cart-page","container"],[1,"page-title"],["class","cart-content",4,"ngIf"],["class","empty-cart",4,"ngIf"],[1,"cart-content"],[1,"cart-items"],["class","cart-item card",4,"ngFor","ngForOf"],[1,"cart-summary","card"],[1,"summary-row"],[1,"summary-value"],[1,"summary-row","total"],["routerLink","/checkout",1,"btn","btn-primary",2,"width","100%","margin-top","1.5rem"],[1,"cart-item","card"],[1,"item-image"],["loading","lazy",3,"error","src","alt"],[1,"item-details"],[1,"item-name"],[1,"item-price"],[1,"item-quantity"],[1,"qty-btn",3,"click"],[1,"qty-value"],[1,"item-total"],[1,"total-price"],[1,"remove-btn",3,"click"],[1,"empty-cart"],["routerLink","/shop",1,"btn","btn-primary"]],template:function(r,n){1&r&&(t.j41(0,"div",0)(1,"h1",1),t.EFF(2,"Shopping Cart"),t.k0s(),t.DNE(3,g,25,9,"div",2)(4,u,5,0,"div",3),t.k0s()),2&r&&(t.R7$(3),t.Y8G("ngIf",n.cartItems.length>0),t.R7$(),t.Y8G("ngIf",0===n.cartItems.length))},dependencies:[c.MD,c.Sq,c.bT,c.QX,l.iI,l.Wk],styles:[".cart-page[_ngcontent-%COMP%]{padding:2rem 0}.page-title[_ngcontent-%COMP%]{margin-bottom:2rem;color:var(--accent)}.cart-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 350px;gap:2rem}.cart-items[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.cart-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:120px 1fr 150px 120px 40px;gap:1.5rem;align-items:center;padding:1.5rem}.item-image[_ngcontent-%COMP%]{width:120px;height:120px;overflow:hidden;background-color:var(--bg-secondary);border-radius:var(--border-radius);img{width:100%;height:100%;object-fit:cover}}.item-details[_ngcontent-%COMP%]{.item-name{font-size:1.25rem;color:var(--text-primary);margin-bottom:.5rem}.item-price{color:var(--accent);font-size:1.1rem}}.item-quantity[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;justify-content:center;.qty-btn{width:35px;height:35px;border:1px solid var(--neutral-medium);background-color:var(--bg-secondary);color:var(--text-primary);border-radius:var(--border-radius);cursor:pointer;font-size:1.25rem;transition:all .3s ease;&:hover{border-color:var(--accent);color:var(--accent)}}.qty-value{min-width:30px;text-align:center;color:var(--text-primary)}}.item-total[_ngcontent-%COMP%]{text-align:center;.total-price{font-size:1.25rem;color:var(--accent);font-weight:600}}.remove-btn[_ngcontent-%COMP%]{width:35px;height:35px;border:none;background-color:transparent;color:var(--text-secondary);font-size:2rem;cursor:pointer;transition:color .3s ease;line-height:1;&:hover{color:#e74c3c}}.cart-summary[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;position:sticky;top:100px;h2{margin-bottom:1.5rem;color:var(--accent)}.summary-row{display:flex;justify-content:space-between;padding:1rem 0;border-bottom:1px solid var(--neutral-medium);&.total{border-bottom:none;border-top:2px solid var(--accent);margin-top:1rem;padding-top:1rem;font-size:1.25rem;font-weight:600}.summary-value{color:var(--accent)}}}.empty-cart[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;p{font-size:1.5rem;margin-bottom:2rem;color:var(--text-secondary)}}@media (max-width: 768px){.cart-content[_ngcontent-%COMP%]{grid-template-columns:1fr}.cart-summary[_ngcontent-%COMP%]{position:static;order:-1;margin-bottom:2rem}.cart-item[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:1rem;padding:1rem}.item-image[_ngcontent-%COMP%]{width:100%;height:200px;margin:0 auto}.item-details[_ngcontent-%COMP%]{text-align:center}.item-quantity[_ngcontent-%COMP%]{justify-content:center}.item-total[_ngcontent-%COMP%]{text-align:center}.remove-btn[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem}}@media (max-width: 480px){.cart-item[_ngcontent-%COMP%]{padding:1rem .5rem}.item-quantity[_ngcontent-%COMP%]   .qty-btn[_ngcontent-%COMP%]{width:30px;height:30px;font-size:1rem}}"]})}}return i})()}}]);